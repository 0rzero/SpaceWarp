<Project>
    <PropertyGroup>
        <SpaceWarpVersion>1.5.4</SpaceWarpVersion>
        <TargetFramework>netstandard2.1</TargetFramework>
        <RootNamespace>SpaceWarp</RootNamespace>
        <LangVersion>11</LangVersion>
        <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
        <AppendTargetFrameworkToOutputPath>false</AppendTargetFrameworkToOutputPath>
        <CopyLocalLockFileAssemblies>false</CopyLocalLockFileAssemblies>
        <!-- Disabled warning for publicizer attribute until the NuGet exists for KSP2,
             and for missing documentation comments for public types and members -->
        <NoWarn>$(NoWarn),CS0436,CS1591</NoWarn>
        <GenerateDocumentationFile>true</GenerateDocumentationFile>
    </PropertyGroup>

    <!--
    Allows use of some newer C# language features that have compiler gates normally.
    Do not modify the included types without checking that they don't require runtime support that doesn't exist.
    -->

    <ItemGroup>
        <PackageReference Include="PolySharp" Version="1.12.1" PrivateAssets="all"/>
    </ItemGroup>
    <PropertyGroup>
        <PolySharpIncludeGeneratedTypes>
            System.Index;
            System.Range;
            System.Diagnostics.CodeAnalysis.NotNullWhenAttribute;
            System.Diagnostics.CodeAnalysis.DoesNotReturnAttribute;
        </PolySharpIncludeGeneratedTypes>
    </PropertyGroup>

<!--    <ItemGroup Label="Dependencies for build targets">-->
<!--        <PackageReference Include="JsonPeek" Version="1.2.0" PrivateAssets="all"/>-->
<!--    </ItemGroup>-->

<!--    &lt;!&ndash; Define the main target &ndash;&gt;-->
<!--    <Target Label="Reading properties from swinfo.json" Name="ReadPropertiesFromJson" BeforeTargets="PreBuildEvent">-->
<!--        <JsonPeek ContentPath="$(SolutionDir)/SpaceWarpBuildTemplate/swinfo.json" Query="$">-->
<!--            <Output TaskParameter="Result" ItemName="Swinfo"/>-->
<!--        </JsonPeek>-->
<!--        <JsonPeek ContentPath="$(SolutionDir)/SpaceWarpBuildTemplate/swinfo.json" Query="$.dependencies">-->
<!--            <Output TaskParameter="Result" ItemName="Dependencies"/>-->
<!--        </JsonPeek>-->

<!--        &lt;!&ndash; Extract properties from the JSON &ndash;&gt;-->
<!--        <PropertyGroup>-->
<!--            <SpaceWarpVersion>@(Swinfo -> '%(version)')</SpaceWarpVersion>-->
<!--        </PropertyGroup>-->
<!--    </Target>-->
</Project>
